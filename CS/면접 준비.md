- 트랜잭션

한 번에 수행되어야할 일련의 연산 모음

모두 완벽하게 처리하거나, 처리하지 못할 경우 원 상태로 복구

<br/>

- 트랜잭션 4가지 특징 (ACID)

1. 원자성 : 트랜잭션이 DB에 모두 반영되거나, 반영되지 않아야 한다.

2. 일관성 : 트랜잭션 작업 처리 결과가 항상 일관성이 있어야 한다.

3. 독립성 : 어떤 트랜잭션이 다른 트랜잭션의 연산에 낄 수 없다.

4. 지속성 : 결과는 영구적으로 반영된다.

<br/>

- HTTP

텍스트 기반 통신 규약

<br/>

- REST Api

 자원을 기반으로 자원의 상태를 주고받음

 무상태성의 특징 : 각 요청이 독립적이며 서버가 클라이언트의 상태를 저장하지 않음

 <br/>

 - TCP / IP

IP는 패킷이라는 통신 단위로 지정된 IP 주소의 목적지에 보냄

TCP는 연결 지향형 프로토콜, 신뢰성 보장

<br/>

- TCP / IP 4계층

1. 네트워크 인터페이스 계층

노드 간의 데이터 전송 담당. 알맞은 하드웨어로 데이터가 전달되도록

2. 인터넷 계층 - IP

IP를 사용해 데이터의 목적지로, 빠르게 도착

3. 전송 계층 - TCP / UDP

4. Application 계층 (HTTP / FTP)

서버나 클라이언트 응용 프로그램이 동작하는 계층

<br/>

- Kafka

카프카는 높은 처리량의 분산 이벤트 스트리밍 플랫폼

pub-sub 형태의 메시지큐로 동작. broker들이 하나의 클러스터로 구성되며 주키퍼에 의해 관리.

rabbitmq 대신 사용은 msa 환경에서 여러 서비스 간 데이터 전송이 일어날 때, 높은 처리량. 그리고 시스템 장애 시 메시지 복구 가능

3개의 클러스터 : 카프카 브로커의 장애로 데이터 손실 -> 3개의 브로커를 구성해 장애 발생 시 다른 브로커로 전환되도록.

<br/>

- telegraf

필요한 데이터 뿐만 아니라 cpu, 메모리, 디스크 등 필요한 데이터를 수집하기 위해 사용

<br/>

- docker

컨테이너 기반 가상화 기술

빌드, 공유, 실행

<br/>

- 보상적 트랜잭션

MSA 환경에서 다른 서비스로 kafka 이벤트를 이용해 요청. 분산 환경이므로 실패 시 트랜잭션 롤백 불가

SAGA 패턴 적용 - 실패 시 보상 이벤트를 발행해 데이터 일관성 보장

<br/>

- redis 분산 락

동시성 문제 : 한 공유 자원에 여러 스레드가 동시 접근하며 발생하는 문제.

단일 환경에서는 비관적 락을 사용 - > 분산 환경으로 변경하며 분산 락 사용


<br/>

- ConcurrentHashMap

HashMap 에는 synchronized 키워드가 존재 안함.

ConcurrentHashMap에는 put 메소드 중간에 synchronized 키워드가 존재 쓰기 작업 시 lock 을 사용해서 동시성 문제 해결됨

<br/>

- WebSocket

웹에서 클라이언트와 서버 간 양방향 통신을 가능하게 하는 프로토콜. HTTP 기반으로 지속적인 연결 유지

stomp 프로토콜은 메시지 시스템을 위한 간단한 텍스트 기반 프로토콜

pub/ sub 구조.
